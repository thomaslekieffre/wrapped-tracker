# **Key Principles**

## **Code Quality & Style**

- Ã‰crire du code **concis, maintenable** et **fortement typÃ©** en **TypeScript**.
- Adopter une approche **fonctionnelle et dÃ©clarative**, Ã©viter la **POO et les classes**.
- Limiter les fichiers Ã  **150 lignes max**, refactoriser en modules plus petits si nÃ©cessaire.
- **ItÃ©rer et modulariser** au lieu de dupliquer le code.
- Utiliser des **noms de variables descriptifs et sÃ©mantiques**, avec des verbes auxiliaires (`isLoading`, `hasError`).
- Nommer les **fichiers et dossiers** en **minuscules avec des tirets** (`components/user-stats`).
- PrivilÃ©gier les **exports nommÃ©s** pour les composants.
- Appliquer la rÃ¨gle **RORO (Receive an Object, Return an Object)** pour les paramÃ¨tres et retours de fonctions.
- Respecter la rÃ¨gle **DRY (Don't Repeat Yourself)** en permanence.
- **Faire des revues de code rÃ©guliÃ¨res** et organiser des sessions de **refactoring**.
- Optimiser les **Web Vitals** (`LCP`, `CLS`, `FID`) pour des **performances optimales**.

---

## **Gestion des Build Notes**

### **Emplacement & Nom des Fichiers**
- **Dossier dÃ©diÃ© :** `/ProjectDocs/Build_Notes/`
- **Convention de nommage :**  
  ```
  build-title_phase-#_task-group-name.md
  ```
  - `<build-title>` : dÃ©crit la tÃ¢che principale du build.
  - `<phase-#>` : indique le numÃ©ro de phase.
  - `<task-group-name>` : nom du groupe de tÃ¢ches.

- **Exemple :**  
  ```
  supabase-schema-standardization_phase-1_preparation-and-code-analysis.md
  ```

### **Structure du Contenu**
1. **Task Objective** â†’ Objectif principal du build.
2. **Current State Assessment** â†’ Ã‰tat actuel du projet.
3. **Future State Goal** â†’ Ã‰tat souhaitÃ© aprÃ¨s le build.
4. **Implementation Plan** :
   - Liste numÃ©rotÃ©e avec des tÃ¢ches Ã  cocher âœ….
   - **Ne jamais supprimer** une tÃ¢che obsolÃ¨te â†’ **la barrer**.
   - Ajouter des **nouvelles tÃ¢ches** si nÃ©cessaire.
5. **Updates & Changes** :
   - Noter chaque **changement majeur** ou difficultÃ© rencontrÃ©e.
   - ComplÃ©ter au fur et Ã  mesure **jusquâ€™Ã  la finalisation**.

### **Quand Mettre Ã  Jour ?**
- **Avant de commencer** : dÃ©finir lâ€™objectif et le plan initial.
- **Pendant lâ€™exÃ©cution** : noter les obstacles et mises Ã  jour.
- **Ã€ la fin** : rÃ©sumer ce qui a Ã©tÃ© fait et vÃ©rifier la conformitÃ© avec lâ€™objectif initial.

### **Archivage des Build Notes**
- **Une fois terminÃ©** : dÃ©placer dans `/ProjectDocs/Build_Notes/completed/`
- **Si obsolÃ¨te** : archiver dans `/ProjectDocs/Build_Notes/archived/`

---

## **Gestion des Context Files**

### **`projectContext.md` (Contexte Principal)**
- SituÃ© dans `/ProjectDocs/contexts/`
- DÃ©finit la **portÃ©e du projet**, les exigences et les principes de conception.
- **Ne pas modifier**, sauf en cas de **changement majeur validÃ©**.

### **Context Files SupplÃ©mentaires**
- Exemples : `uiContext.md`, `featureAContext.md`
- Contiennent des **spÃ©cifications dÃ©taillÃ©es** sur certaines fonctionnalitÃ©s.
- **Stables**, modifiables uniquement si un **changement officiel** est approuvÃ©.
- **Doivent Ãªtre consultÃ©s rÃ©guliÃ¨rement** pour assurer la cohÃ©rence du dÃ©veloppement.

### **Gestion des Modifications**
- **Chaque mise Ã  jour** des context files doit Ãªtre **documentÃ©e dans les Build Notes**.
- Expliquer le **raisonnement derriÃ¨re chaque modification** pour garder une trace claire.

---

## **Stack & Framework Conventions**

### **Next.js 15+**
- Exploiter **App Router, React Server Components (RSC), SSR**.
- **Limiter l'utilisation de `use client`**, privilÃ©gier le serveur.
- Adopter une approche **mobile-first & responsive**.
- Structurer l'application comme une **PWA (Progressive Web App)** avec **capacitÃ©s hors-ligne**.

### **Gestion de l'Ã‰tat & UI**
- **Zustand** â†’ gestion dâ€™Ã©tat **cÃ´tÃ© client**.
- **ShadCN UI** â†’ installation et gestion :
  ```sh
  pnpm dlx shadcn@latest init -d
  pnpm dlx shadcn@latest add {component}
  ```
- **TailwindCSS** â†’ framework CSS principal.

### **Base de DonnÃ©es & Authentification**
- **Supabase** â†’ base de donnÃ©es.
- **Clerk** â†’ gestionnaire dâ€™authentification.
- Utiliser **RLS (Row Level Security)** pour la gestion des permissions.
- Structurer les **donnÃ©es pour optimiser** les requÃªtes et Ã©viter les duplications.

### **Monorepo & Outils**
- **Structure Monorepo** :
  - Code partagÃ© â†’ `/packages/`
  - Code spÃ©cifique â†’ `/app/`
- Automatiser avec **`Taskfile.yml`**.
- Stocker les **variables dâ€™environnement dans `.env`**.
- Utiliser **`pnpm`** comme gestionnaire de paquets.

---

## **Rules pour les Commits FrÃ©quents et Bien Faits** ğŸš€  

Un bon commit, câ€™est :  
âœ… **Clair** â†’ DÃ©crit prÃ©cisÃ©ment la modification.  
âœ… **Petit** â†’ Modifie un seul aspect du code.  
âœ… **Atomique** â†’ Peut Ãªtre rollback sans souci.  

### **RÃ¨gles GÃ©nÃ©rales**  
1. **Commits frÃ©quents** (toutes les 30-60 min max).  
2. **Messages clairs et concis** (pas de *"fix bug"*, *"update"*)  
3. **Convention des commits** :  
   - `feat:` â†’ Nouvelle feature  
   - `fix:` â†’ Correction de bug  
   - `refactor:` â†’ AmÃ©lioration du code sans changement fonctionnel  
   - `chore:` â†’ Maintenance (mise Ã  jour deps, nettoyage, etc.)  
   - `test:` â†’ Ajout/modif de tests  
   - `docs:` â†’ Mise Ã  jour de la documentation  
   - `style:` â†’ Formatage, indentation  

### **Gestion des Branches**
- `main` â†’ Stable, pas de commit direct.  
- `dev` â†’ Branche de dÃ©veloppement.  
- `feature/nom-de-la-feature` â†’ Une branche par fonctionnalitÃ©.  
- `hotfix/nom-du-bug` â†’ Pour corrections urgentes.  

---

ğŸ’¡ **RÃ©cap :**  
âœ” **Commits courts et explicites**  
âœ” **Respect des conventions (`feat`, `fix`, etc.)**  
âœ” **Ne jamais commit directement sur `main`**  
âœ” **Faire des PR pour toute nouvelle feature**  

Avec ces principes, **ton code restera propre et bien organisÃ©** ğŸ¯ğŸ”¥
